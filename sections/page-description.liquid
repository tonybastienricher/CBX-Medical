<div class='{% render 'bg-color', bg-color: section.settings.couleur_du_background %} {% render 'text-color', text-color: section.settings.couleur_du_texte %}'>
    <div class='cbx-container-site cbx-py-10'>
        <div class='cbx-border-t cbx-border-green5 cbx-grid cbx-grid-cols-1 lg:cbx-grid-cols-2 cbx-pt-5'>
            <div>
                <span class='cbx-flex cbx-uppercase cbx-text-xs cbx-font-body'>
                    {{ section.settings.titre }}
                </span>
            </div>
            <!-- Description -->
            <div x-data="{ open: 1 }"
                 class="description-container cbx-py-5 lg:cbx-pt-0">
                {%- for block in section.blocks -%}
                    {%- case block.type -%}

                        {%- when 'information' -%}

                            <div class='cbx-flex cbx-flex-col' {{ block.shopify_attributes }}>
                                <div class='cbx-pt-2.5 lg:cbx-hidden'>
                                    <span class='cbx-text-sm cbx-pb-2.5 cbx-text-green3'>{{ forloop.index | prepend: '0' }} /</span>
                                </div>
                                <button @click="open = {{ forloop.index }}"
                                        class="question cbx-flex cbx-justify-between cbx-items-center {% if forloop.index != 1 %}cbx-pt-5{% endif %} cbx-pb-2.5 cbx-border-b cbx-border-green5 cbx-gap-7 cbx-cursor-pointer">
                                    <span class='cbx-font-display cbx-tracking-cbxWidest cbx-text-xls'>{{ block.settings.question }}</span>
                                    <div class='cbx-duration-200' :class="{'cbx-rotate-45' : open == {{ forloop.index }} }">
                                        <svg class='cbx-w-3.5 cbx-h-3.5' width="13" height="13" viewBox="0 0 13 13" fill="none"
                                             xmlns="http://www.w3.org/2000/svg">
                                            <path d="M5.33953 12.72V7.48053H0.100098V5.95941H5.33953V0.719971H6.86066V5.95941H12.1001V7.48053H6.86066V12.72H5.33953Z"
                                                  fill="currentColor" />
                                        </svg>
                                    </div>
                                </button>
                                <div x-show="open == {{ forloop.index }}" x-collapse
                                     {% if foorloop.index != 1 %}style='display: none;' {% endif %}
                                     class="answer cbx-text-green3 cbx-duration-200 cbx-font-display">
                                    <div class='cbx-py-7'>
                                        <p style='line-height: 150%;'>
                                            {{ block.settings.reponse | newline_to_br }}
                                        </p>
                                    </div>
                                </div>
                            </div>
                    {%- endcase -%}
                {%- endfor -%}
            </div>
        </div>
    </div>
</div>

{% schema %}
{
  "name": "description",
  "class": "page-description",
  "max_blocks": 10,
  "tag": "section",
  "settings": [
    {
      "type": "select",
      "id": "couleur_du_background",
      "label": "Couleur du background",
      "options": [
        {
          "value": "transparent",
          "label": "Transparent"
        },
        {
          "value": "offwhite",
          "label": "offWhite"
        },
        {
          "value": "beigelight",
          "label": "beigeLight"
        },
        {
          "value": "beige",
          "label": "beige"
        },
        {
          "value": "green",
          "label": "green"
        },
        {
          "value": "green2",
          "label": "green2"
        },
        {
          "value": "green3",
          "label": "green3"
        },
        {
          "value": "green4",
          "label": "green4"
        },
        {
          "value": "green5",
          "label": "green5"
        },
        {
          "value": "green6",
          "label": "green6"
        }
      ],
      "default": "transparent"
    },
    {
      "type": "select",
      "id": "couleur_du_texte",
      "label": "Couleur du texte",
      "options": [
        {
          "value": "offwhite",
          "label": "offWhite"
        },
        {
          "value": "beigelight",
          "label": "beigeLight"
        },
        {
          "value": "beige",
          "label": "beige"
        },
        {
          "value": "green",
          "label": "green"
        },
        {
          "value": "green2",
          "label": "green2"
        },
        {
          "value": "green3",
          "label": "green3"
        },
        {
          "value": "green4",
          "label": "green4"
        },
        {
          "value": "green5",
          "label": "green5"
        },
        {
          "value": "green6",
          "label": "green6"
        }
      ],
      "default": "green2"
    },
    {
      "type": "text",
      "id": "titre",
      "label": "Titre",
      "default": "Introduction",
      "placeholder": "Introduction"
    }
  ],
  "blocks": [
    {
      "name": "Information",
      "type": "information",
      "settings": [
        {
          "type": "text",
          "id": "question",
          "label": "Question",
          "default": "Ingredients clés"
        },
        {
          "type": "textarea",
          "id": "reponse",
          "label": "Réponse",
          "default": "Notre équipe est composée d'experts dans les traitements à base de cannabinoïdes, notamment des professionnels de la santé, des scientifiques et des chercheurs. Grâce à leurs connaissances et à leur expérience approfondies, nous veillons à ce que nos produits et services répondent aux normes les plus élevées en termes de qualité et d'efficacité."
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "description",
      "blocks": [
        {
          "type": "information"
        },
        {
          "type": "information"
        },
        {
          "type": "information"
        },
        {
          "type": "information"
        },
        {
          "type": "information"
        }
      ]
    }
  ]
}
{% endschema %}

{% stylesheet %}
{% endstylesheet %}